@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Material Design 3 Color Tokens */
    /* Surface Colors */
    --md-sys-color-surface: 285 100% 98%;
    --md-sys-color-surface-dim: 270 17% 86%;
    --md-sys-color-surface-bright: 285 100% 98%;
    --md-sys-color-surface-container-lowest: 0 0% 100%;
    --md-sys-color-surface-container-low: 288 33% 96%;
    --md-sys-color-surface-container: 286 25% 95%;
    --md-sys-color-surface-container-high: 270 16% 91%;
    --md-sys-color-surface-container-highest: 270 15% 90%;
    --md-sys-color-surface-variant: 270 14% 89%;
    --md-sys-color-on-surface: 255 7% 11%;
    --md-sys-color-on-surface-variant: 270 6% 29%;

    /* Primary Colors - Dark Teal #113B39 */
    --md-sys-color-primary: 177 55% 15%;
    --md-sys-color-primary-container: 177 55% 92%;
    --md-sys-color-on-primary: 0 0% 100%;
    --md-sys-color-on-primary-container: 177 55% 8%;

    /* Secondary Colors - Orange #FF4D00 */
    --md-sys-color-secondary: 18 100% 50%;
    --md-sys-color-secondary-container: 18 100% 95%;
    --md-sys-color-on-secondary: 0 0% 100%;
    --md-sys-color-on-secondary-container: 18 100% 25%;

    /* Tertiary Colors - Gold #D4B961 */
    --md-sys-color-tertiary: 46 56% 61%;
    --md-sys-color-tertiary-container: 46 56% 95%;
    --md-sys-color-on-tertiary: 46 56% 20%;
    --md-sys-color-on-tertiary-container: 46 56% 25%;

    /* Error Colors */
    --md-sys-color-error: 3 71% 41%;
    --md-sys-color-error-container: 6 63% 92%;
    --md-sys-color-on-error: 0 0% 100%;
    --md-sys-color-on-error-container: 4 71% 15%;

    /* Outline Colors - Olive #525944 */
    --md-sys-color-outline: 75 13% 31%;
    --md-sys-color-outline-variant: 75 13% 85%;

    /* Material Design 3 Elevation Shadows */
    --md-sys-elevation-level0: none;
    --md-sys-elevation-level1: 0px 1px 2px 0px rgba(0, 0, 0, 0.3), 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
    --md-sys-elevation-level2: 0px 1px 2px 0px rgba(0, 0, 0, 0.3), 0px 2px 6px 2px rgba(0, 0, 0, 0.15);
    --md-sys-elevation-level3: 0px 1px 3px 0px rgba(0, 0, 0, 0.3), 0px 4px 8px 3px rgba(0, 0, 0, 0.15);
    --md-sys-elevation-level4: 0px 2px 3px 0px rgba(0, 0, 0, 0.3), 0px 6px 10px 4px rgba(0, 0, 0, 0.15);
    --md-sys-elevation-level5: 0px 4px 4px 0px rgba(0, 0, 0, 0.3), 0px 8px 12px 6px rgba(0, 0, 0, 0.15);

    /* Material Design 3 Motion */
    --md-sys-motion-easing-emphasized-decelerate: cubic-bezier(0.05, 0.7, 0.1, 1.0);
    --md-sys-motion-easing-emphasized-accelerate: cubic-bezier(0.3, 0.0, 0.8, 0.15);
    --md-sys-motion-easing-emphasized: cubic-bezier(0.2, 0.0, 0.0, 1.0);
    --md-sys-motion-easing-standard: cubic-bezier(0.2, 0.0, 0.0, 1.0);
    --md-sys-motion-duration-short1: 50ms;
    --md-sys-motion-duration-short2: 100ms;
    --md-sys-motion-duration-short3: 150ms;
    --md-sys-motion-duration-short4: 200ms;
    --md-sys-motion-duration-medium1: 250ms;
    --md-sys-motion-duration-medium2: 300ms;
    --md-sys-motion-duration-medium3: 350ms;
    --md-sys-motion-duration-medium4: 400ms;
    --md-sys-motion-duration-long1: 450ms;
    --md-sys-motion-duration-long2: 500ms;
    --md-sys-motion-duration-long3: 550ms;
    --md-sys-motion-duration-long4: 600ms;

    /* Material Design 3 Shape Tokens */
    --md-sys-shape-corner-none: 0px;
    --md-sys-shape-corner-extra-small: 4px;
    --md-sys-shape-corner-small: 8px;
    --md-sys-shape-corner-medium: 12px;
    --md-sys-shape-corner-large: 16px;
    --md-sys-shape-corner-extra-large: 28px;
    --md-sys-shape-corner-full: 9999px;

    /* Backward compatibility mapping */
    --background: var(--md-sys-color-surface);
    --foreground: var(--md-sys-color-on-surface);
    --card: var(--md-sys-color-surface-container-low);
    --card-foreground: var(--md-sys-color-on-surface);
    --popover: var(--md-sys-color-surface-container);
    --popover-foreground: var(--md-sys-color-on-surface);
    --primary: var(--md-sys-color-primary);
    --primary-foreground: var(--md-sys-color-on-primary);
    --secondary: var(--md-sys-color-secondary);
    --secondary-foreground: var(--md-sys-color-on-secondary);
    --muted: var(--md-sys-color-surface-variant);
    --muted-foreground: var(--md-sys-color-on-surface-variant);
    --accent: var(--md-sys-color-secondary-container);
    --accent-foreground: var(--md-sys-color-on-secondary-container);
    --destructive: var(--md-sys-color-error);
    --destructive-foreground: var(--md-sys-color-on-error);
    --border: var(--md-sys-color-outline-variant);
    --input: var(--md-sys-color-outline);
    --ring: var(--md-sys-color-primary);
    --radius: var(--md-sys-shape-corner-medium);

    --sidebar-background: var(--md-sys-color-surface-container-low);
    --sidebar-foreground: var(--md-sys-color-on-surface);
    --sidebar-primary: var(--md-sys-color-primary);
    --sidebar-primary-foreground: var(--md-sys-color-on-primary);
    --sidebar-accent: var(--md-sys-color-secondary-container);
    --sidebar-accent-foreground: var(--md-sys-color-on-secondary-container);
    --sidebar-border: var(--md-sys-color-outline-variant);
    --sidebar-ring: var(--md-sys-color-primary);
  }

  .dark {
    /* Material Design 3 Dark Theme Color Tokens */
    /* Surface Colors */
    --md-sys-color-surface: 285 13% 6%;
    --md-sys-color-surface-dim: 285 13% 6%;
    --md-sys-color-surface-bright: 280 8% 20%;
    --md-sys-color-surface-container-lowest: 270 15% 5%;
    --md-sys-color-surface-container-low: 300 9% 9%;
    --md-sys-color-surface-container: 320 6% 11%;
    --md-sys-color-surface-container-high: 300 6% 13%;
    --md-sys-color-surface-container-highest: 300 5% 17%;
    --md-sys-color-surface-variant: 270 6% 29%;
    --md-sys-color-on-surface: 300 9% 89%;
    --md-sys-color-on-surface-variant: 270 3% 79%;

    /* Primary Colors - Dark Teal #113B39 Dark Mode */
    --md-sys-color-primary: 177 55% 35%;
    --md-sys-color-primary-container: 177 55% 12%;
    --md-sys-color-on-primary: 0 0% 100%;
    --md-sys-color-on-primary-container: 177 55% 85%;

    /* Secondary Colors - Orange #FF4D00 Dark Mode */
    --md-sys-color-secondary: 18 100% 65%;
    --md-sys-color-secondary-container: 18 100% 30%;
    --md-sys-color-on-secondary: 0 0% 100%;
    --md-sys-color-on-secondary-container: 18 100% 90%;

    /* Tertiary Colors - Gold #D4B961 Dark Mode */
    --md-sys-color-tertiary: 46 56% 70%;
    --md-sys-color-tertiary-container: 46 56% 30%;
    --md-sys-color-on-tertiary: 46 56% 15%;
    --md-sys-color-on-tertiary-container: 46 56% 90%;

    /* Error Colors */
    --md-sys-color-error: 3 56% 83%;
    --md-sys-color-error-container: 4 71% 32%;
    --md-sys-color-on-error: 348 100% 21%;
    --md-sys-color-on-error-container: 6 63% 92%;

    /* Outline Colors - Olive #525944 Dark Mode */
    --md-sys-color-outline: 75 13% 50%;
    --md-sys-color-outline-variant: 75 13% 25%;

    /* Backward compatibility mapping */
    --background: var(--md-sys-color-surface);
    --foreground: var(--md-sys-color-on-surface);
    --card: var(--md-sys-color-surface-container-low);
    --card-foreground: var(--md-sys-color-on-surface);
    --popover: var(--md-sys-color-surface-container);
    --popover-foreground: var(--md-sys-color-on-surface);
    --primary: var(--md-sys-color-primary);
    --primary-foreground: var(--md-sys-color-on-primary);
    --secondary: var(--md-sys-color-secondary);
    --secondary-foreground: var(--md-sys-color-on-secondary);
    --muted: var(--md-sys-color-surface-variant);
    --muted-foreground: var(--md-sys-color-on-surface-variant);
    --accent: var(--md-sys-color-secondary-container);
    --accent-foreground: var(--md-sys-color-on-secondary-container);
    --destructive: var(--md-sys-color-error);
    --destructive-foreground: var(--md-sys-color-on-error);
    --border: var(--md-sys-color-outline-variant);
    --input: var(--md-sys-color-outline);
    --ring: var(--md-sys-color-primary);

    --sidebar-background: var(--md-sys-color-surface-container-low);
    --sidebar-foreground: var(--md-sys-color-on-surface);
    --sidebar-primary: var(--md-sys-color-primary);
    --sidebar-primary-foreground: var(--md-sys-color-on-primary);
    --sidebar-accent: var(--md-sys-color-secondary-container);
    --sidebar-accent-foreground: var(--md-sys-color-on-secondary-container);
    --sidebar-border: var(--md-sys-color-outline-variant);
    --sidebar-ring: var(--md-sys-color-primary);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans;
    font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;
  }

  /* Material Design 3 Ripple Effect */
  .md-ripple {
    position: relative;
    overflow: hidden;
    transform: translate3d(0, 0, 0);
  }

  .md-ripple:before {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: currentColor;
    opacity: 0.1;
    transform: translate(-50%, -50%);
    transition: width var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-standard),
                height var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-standard);
  }

  .md-ripple:active:before {
    width: 300px;
    height: 300px;
  }

  /* Material Design 3 State Layers */
  .md-state-layer {
    position: relative;
    overflow: hidden;
  }

  .md-state-layer::before {
    content: "";
    position: absolute;
    inset: 0;
    background: currentColor;
    opacity: 0;
    transition: opacity var(--md-sys-motion-duration-short2) var(--md-sys-motion-easing-standard);
  }

  .md-state-layer:hover::before {
    opacity: 0.08;
  }

  .md-state-layer:focus::before {
    opacity: 0.12;
  }

  .md-state-layer:active::before {
    opacity: 0.16;
  }
}

@layer utilities {
  /* Material Design 3 Spacing System (8dp grid) */
  .md-p-0 { @apply p-0; }
  .md-p-1 { @apply p-2; } /* 8dp */
  .md-p-2 { @apply p-4; } /* 16dp */
  .md-p-3 { @apply p-6; } /* 24dp */
  .md-p-4 { @apply p-8; } /* 32dp */
  .md-p-5 { @apply p-10; } /* 40dp */
  .md-p-6 { @apply p-12; } /* 48dp */
  .md-p-8 { @apply p-16; } /* 64dp */

  /* Material Design 3 Elevation Classes */
  .md-elevation-0 { box-shadow: var(--md-sys-elevation-level0); }
  .md-elevation-1 { box-shadow: var(--md-sys-elevation-level1); }
  .md-elevation-2 { box-shadow: var(--md-sys-elevation-level2); }
  .md-elevation-3 { box-shadow: var(--md-sys-elevation-level3); }
  .md-elevation-4 { box-shadow: var(--md-sys-elevation-level4); }
  .md-elevation-5 { box-shadow: var(--md-sys-elevation-level5); }

  /* Material Design 3 Surface Colors */
  .md-surface { @apply bg-md-surface text-md-surface-on-surface; }
  .md-surface-variant { @apply bg-md-surface-variant text-md-surface-on-variant; }
  .md-surface-container { @apply bg-md-surface-container text-md-surface-on-surface; }
  .md-surface-container-low { @apply bg-md-surface-container-low text-md-surface-on-surface; }
  .md-surface-container-high { @apply bg-md-surface-container-high text-md-surface-on-surface; }

  /* Primary Color Utilities */
  .md-primary { @apply bg-md-primary text-md-primary-on-primary; }
  .md-primary-container { @apply bg-md-primary-container text-md-primary-on-container; }
  
  /* Secondary Color Utilities */
  .md-secondary { @apply bg-md-secondary text-md-secondary-on-secondary; }
  .md-secondary-container { @apply bg-md-secondary-container text-md-secondary-on-container; }

  /* Tertiary Color Utilities */
  .md-tertiary { @apply bg-md-tertiary text-md-tertiary-on-tertiary; }
  .md-tertiary-container { @apply bg-md-tertiary-container text-md-tertiary-on-container; }

  /* Error Color Utilities */
  .md-error { @apply bg-md-error text-md-error-on-error; }
  .md-error-container { @apply bg-md-error-container text-md-error-on-container; }

  /* Material Design 3 Typography Scale - NO DEFAULT COLORS */
  /* Colors should be specified contextually based on background */
  
  /* Display - Primary headings (specify color based on background) */
  .md-display-large { 
    @apply text-[57px] leading-[64px] font-normal tracking-[-0.25px];
  }
  .md-display-medium { 
    @apply text-[45px] leading-[52px] font-normal;
  }
  .md-display-small { 
    @apply text-[36px] leading-[44px] font-normal;
  }
  
  /* Headline - Section headings */
  .md-headline-large { 
    @apply text-[32px] leading-[40px] font-normal;
  }
  .md-headline-medium { 
    @apply text-[28px] leading-[36px] font-normal;
  }
  .md-headline-small { 
    @apply text-[24px] leading-[32px] font-normal;
  }
  
  /* Title - Card titles, subheadings */
  .md-title-large { 
    @apply text-[22px] leading-[28px] font-medium;
  }
  .md-title-medium { 
    @apply text-[16px] leading-[24px] font-medium tracking-[0.1px];
  }
  .md-title-small { 
    @apply text-[14px] leading-[20px] font-medium tracking-[0.1px];
  }
  
  /* Label - Buttons, badges */
  .md-label-large { 
    @apply text-[14px] leading-[20px] font-medium tracking-[0.1px];
  }
  .md-label-medium { 
    @apply text-[12px] leading-[16px] font-medium tracking-[0.5px];
  }
  .md-label-small { 
    @apply text-[11px] leading-[16px] font-medium tracking-[0.5px];
  }
  
  /* Body - Regular text */
  .md-body-large { 
    @apply text-[16px] leading-[24px] font-normal tracking-[0.5px];
  }
  .md-body-medium { 
    @apply text-[14px] leading-[20px] font-normal tracking-[0.25px];
  }
  .md-body-small { 
    @apply text-[12px] leading-[16px] font-normal tracking-[0.4px];
  }

  /* Typography Color Utilities - Apply explicitly based on background */
  
  /* For light backgrounds (surface colors) */
  .text-on-surface { color: hsl(var(--md-sys-color-on-surface)); }
  .text-on-surface-variant { color: hsl(var(--md-sys-color-on-surface-variant)); }
  
  /* For dark/primary backgrounds */
  .text-on-primary { color: hsl(var(--md-sys-color-on-primary)); }
  .text-on-secondary { color: hsl(var(--md-sys-color-on-secondary)); }
  .text-on-tertiary { color: hsl(var(--md-sys-color-on-tertiary)); }
  
  /* Accent colors for emphasis */
  .text-accent-primary { color: hsl(var(--md-sys-color-primary)); }
  .text-accent-secondary { color: hsl(var(--md-sys-color-secondary)); }
  .text-accent-tertiary { color: hsl(var(--md-sys-color-tertiary)); }

  /* Interactive Element Animations */
  .hover-scale {
    @apply transition-transform duration-200 hover:scale-105;
  }

  .hover-lift {
    @apply transition-all duration-300 hover:-translate-y-1 hover:shadow-lg;
  }

  .story-link {
    @apply relative inline-block;
  }

  .story-link::after {
    @apply content-[''] absolute w-full scale-x-0 h-0.5 bottom-0 left-0 bg-md-primary origin-bottom-right transition-transform duration-300;
  }

  .story-link:hover::after {
    @apply scale-x-100 origin-bottom-left;
  }
}
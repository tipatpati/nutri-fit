@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Orange Vegan Cafe Brand Colors */
    /* Surface Colors - Warm Cream & Stone */
    --md-sys-color-surface: 40 50% 96%; /* #FBF8EF - Warm cream */
    --md-sys-color-surface-dim: 40 18% 87%; /* #E5E2D9 - Stone gray */
    --md-sys-color-surface-bright: 40 50% 98%;
    --md-sys-color-surface-container-lowest: 0 0% 100%;
    --md-sys-color-surface-container-low: 40 18% 87%; /* #E5E2D9 - Stone gray */
    --md-sys-color-surface-container: 40 25% 92%;
    --md-sys-color-surface-container-high: 40 18% 87%;
    --md-sys-color-surface-container-highest: 40 18% 85%;
    --md-sys-color-surface-variant: 40 18% 87%;
    --md-sys-color-on-surface: 75 53% 13%; /* #2B3210 - Deep olive */
    --md-sys-color-on-surface-variant: 75 27% 27%; /* #505631 - Sage green */

    /* Primary Colors - Deep Olive #2B3210 */
    --md-sys-color-primary: 75 53% 13%; /* #2B3210 */
    --md-sys-color-primary-container: 75 53% 95%;
    --md-sys-color-on-primary: 40 50% 96%; /* Warm cream on primary */
    --md-sys-color-on-primary-container: 75 53% 13%;

    /* Secondary Colors - Burnt Orange #DE6E27 */
    --md-sys-color-secondary: 21 71% 51%; /* #DE6E27 */
    --md-sys-color-secondary-container: 21 71% 95%;
    --md-sys-color-on-secondary: 0 0% 100%;
    --md-sys-color-on-secondary-container: 21 71% 25%;

    /* Tertiary Colors - Sage Green #505631 */
    --md-sys-color-tertiary: 75 27% 27%; /* #505631 */
    --md-sys-color-tertiary-container: 75 27% 95%;
    --md-sys-color-on-tertiary: 40 50% 96%;
    --md-sys-color-on-tertiary-container: 75 27% 15%;

    /* Error Colors */
    --md-sys-color-error: 3 71% 41%;
    --md-sys-color-error-container: 6 63% 92%;
    --md-sys-color-on-error: 0 0% 100%;
    --md-sys-color-on-error-container: 4 71% 15%;

    /* Outline Colors - Sage & Stone */
    --md-sys-color-outline: 75 27% 27%; /* #505631 - Sage green */
    --md-sys-color-outline-variant: 40 18% 87%; /* #E5E2D9 - Stone gray */

    /* Material Design 3 Elevation Shadows */
    --md-sys-elevation-level0: none;
    --md-sys-elevation-level1: 0px 1px 3px 0px rgba(0, 0, 0, 0.4), 0px 2px 4px 1px rgba(0, 0, 0, 0.2);
    --md-sys-elevation-level2: 0px 2px 4px 0px rgba(0, 0, 0, 0.4), 0px 3px 8px 2px rgba(0, 0, 0, 0.2);
    --md-sys-elevation-level3: 0px 2px 5px 0px rgba(0, 0, 0, 0.4), 0px 5px 10px 3px rgba(0, 0, 0, 0.2);
    --md-sys-elevation-level4: 0px 3px 6px 0px rgba(0, 0, 0, 0.4), 0px 7px 12px 4px rgba(0, 0, 0, 0.2);
    --md-sys-elevation-level5: 0px 5px 8px 0px rgba(0, 0, 0, 0.4), 0px 10px 16px 6px rgba(0, 0, 0, 0.25);

    /* Material Design 3 Motion */
    --md-sys-motion-easing-emphasized-decelerate: cubic-bezier(0.05, 0.7, 0.1, 1.0);
    --md-sys-motion-easing-emphasized-accelerate: cubic-bezier(0.3, 0.0, 0.8, 0.15);
    --md-sys-motion-easing-emphasized: cubic-bezier(0.2, 0.0, 0.0, 1.0);
    --md-sys-motion-easing-standard: cubic-bezier(0.2, 0.0, 0.0, 1.0);
    --md-sys-motion-duration-short1: 50ms;
    --md-sys-motion-duration-short2: 100ms;
    --md-sys-motion-duration-short3: 150ms;
    --md-sys-motion-duration-short4: 200ms;
    --md-sys-motion-duration-medium1: 250ms;
    --md-sys-motion-duration-medium2: 300ms;
    --md-sys-motion-duration-medium3: 350ms;
    --md-sys-motion-duration-medium4: 400ms;
    --md-sys-motion-duration-long1: 450ms;
    --md-sys-motion-duration-long2: 500ms;
    --md-sys-motion-duration-long3: 550ms;
    --md-sys-motion-duration-long4: 600ms;

    /* Material Design 3 Shape Tokens */
    --md-sys-shape-corner-none: 0px;
    --md-sys-shape-corner-extra-small: 4px;
    --md-sys-shape-corner-small: 8px;
    --md-sys-shape-corner-medium: 12px;
    --md-sys-shape-corner-large: 16px;
    --md-sys-shape-corner-extra-large: 28px;
    --md-sys-shape-corner-full: 9999px;

    /* Glassmorphism Tokens - Organic Vegan Cafe Style */
    --glass-blur: 20px;
    --glass-blur-intense: 30px;
    --glass-opacity: 0.95; /* More opaque for cream backgrounds */
    --glass-opacity-light: 0.85;
    --glass-border-opacity: 0.25; /* Subtle borders */
    
    /* Organic Design Tokens */
    --organic-radius: 16px;
    --organic-radius-large: 24px;
    --warmth-overlay: hsla(21, 71%, 51%, 0.05); /* Subtle orange warmth */

    /* Backward compatibility mapping */
    --background: var(--md-sys-color-surface);
    --foreground: var(--md-sys-color-on-surface);
    --card: var(--md-sys-color-surface-container-low);
    --card-foreground: var(--md-sys-color-on-surface);
    --popover: var(--md-sys-color-surface-container);
    --popover-foreground: var(--md-sys-color-on-surface);
    --primary: var(--md-sys-color-primary);
    --primary-foreground: var(--md-sys-color-on-primary);
    --secondary: var(--md-sys-color-secondary);
    --secondary-foreground: var(--md-sys-color-on-secondary);
    --muted: var(--md-sys-color-surface-variant);
    --muted-foreground: var(--md-sys-color-on-surface-variant);
    --accent: var(--md-sys-color-secondary-container);
    --accent-foreground: var(--md-sys-color-on-secondary-container);
    --destructive: var(--md-sys-color-error);
    --destructive-foreground: var(--md-sys-color-on-error);
    --border: var(--md-sys-color-outline-variant);
    --input: var(--md-sys-color-outline);
    --ring: var(--md-sys-color-primary);
    --radius: var(--md-sys-shape-corner-medium);

    --sidebar-background: var(--md-sys-color-surface-container-low);
    --sidebar-foreground: var(--md-sys-color-on-surface);
    --sidebar-primary: var(--md-sys-color-primary);
    --sidebar-primary-foreground: var(--md-sys-color-on-primary);
    --sidebar-accent: var(--md-sys-color-secondary-container);
    --sidebar-accent-foreground: var(--md-sys-color-on-secondary-container);
    --sidebar-border: var(--md-sys-color-outline-variant);
    --sidebar-ring: var(--md-sys-color-primary);
  }

  .dark {
    /* Orange Vegan Cafe Dark Theme */
    /* Surface Colors - Dark olive tones */
    --md-sys-color-surface: 75 20% 10%; /* Dark olive */
    --md-sys-color-surface-dim: 75 20% 8%;
    --md-sys-color-surface-bright: 75 20% 15%;
    --md-sys-color-surface-container-lowest: 75 25% 5%;
    --md-sys-color-surface-container-low: 75 20% 12%;
    --md-sys-color-surface-container: 75 18% 14%;
    --md-sys-color-surface-container-high: 75 15% 16%;
    --md-sys-color-surface-container-highest: 75 12% 20%;
    --md-sys-color-surface-variant: 75 15% 25%;
    --md-sys-color-on-surface: 40 50% 96%; /* Warm cream */
    --md-sys-color-on-surface-variant: 40 18% 87%; /* Stone gray */

    /* Primary Colors - Deep Olive Dark Mode */
    --md-sys-color-primary: 75 53% 20%; /* Lighter olive for dark mode */
    --md-sys-color-primary-container: 75 53% 12%;
    --md-sys-color-on-primary: 40 50% 96%;
    --md-sys-color-on-primary-container: 75 53% 90%;

    /* Secondary Colors - Burnt Orange Dark Mode */
    --md-sys-color-secondary: 21 71% 60%; /* Lighter orange for dark mode */
    --md-sys-color-secondary-container: 21 71% 25%;
    --md-sys-color-on-secondary: 0 0% 100%;
    --md-sys-color-on-secondary-container: 21 71% 90%;

    /* Tertiary Colors - Sage Green Dark Mode */
    --md-sys-color-tertiary: 75 27% 40%; /* Lighter sage for dark mode */
    --md-sys-color-tertiary-container: 75 27% 20%;
    --md-sys-color-on-tertiary: 40 50% 96%;
    --md-sys-color-on-tertiary-container: 75 27% 90%;

    /* Error Colors */
    --md-sys-color-error: 3 56% 83%;
    --md-sys-color-error-container: 4 71% 32%;
    --md-sys-color-on-error: 348 100% 21%;
    --md-sys-color-on-error-container: 6 63% 92%;

    /* Outline Colors - Sage & Stone Dark Mode */
    --md-sys-color-outline: 75 27% 40%;
    --md-sys-color-outline-variant: 75 27% 25%;

    /* Glassmorphism adjustments for dark mode */
    --glass-opacity: 0.5;
    --glass-opacity-light: 0.3;

    /* Backward compatibility mapping */
    --background: var(--md-sys-color-surface);
    --foreground: var(--md-sys-color-on-surface);
    --card: var(--md-sys-color-surface-container-low);
    --card-foreground: var(--md-sys-color-on-surface);
    --popover: var(--md-sys-color-surface-container);
    --popover-foreground: var(--md-sys-color-on-surface);
    --primary: var(--md-sys-color-primary);
    --primary-foreground: var(--md-sys-color-on-primary);
    --secondary: var(--md-sys-color-secondary);
    --secondary-foreground: var(--md-sys-color-on-secondary);
    --muted: var(--md-sys-color-surface-variant);
    --muted-foreground: var(--md-sys-color-on-surface-variant);
    --accent: var(--md-sys-color-secondary-container);
    --accent-foreground: var(--md-sys-color-on-secondary-container);
    --destructive: var(--md-sys-color-error);
    --destructive-foreground: var(--md-sys-color-on-error);
    --border: var(--md-sys-color-outline-variant);
    --input: var(--md-sys-color-outline);
    --ring: var(--md-sys-color-primary);

    --sidebar-background: var(--md-sys-color-surface-container-low);
    --sidebar-foreground: var(--md-sys-color-on-surface);
    --sidebar-primary: var(--md-sys-color-primary);
    --sidebar-primary-foreground: var(--md-sys-color-on-primary);
    --sidebar-accent: var(--md-sys-color-secondary-container);
    --sidebar-accent-foreground: var(--md-sys-color-on-secondary-container);
    --sidebar-border: var(--md-sys-color-outline-variant);
    --sidebar-ring: var(--md-sys-color-primary);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans;
    font-family: 'DM Sans', 'Helvetica', 'Arial', sans-serif;
  }

  /* NutriFit Typography System */
  h1, h2, h3, h4, h5, h6,
  .font-serif,
  .font-heading,
  .md-display-large,
  .md-display-medium,
  .md-display-small,
  .md-headline-large,
  .md-headline-medium,
  .md-headline-small {
    font-family: 'Space Grotesk', sans-serif;
  }

  .font-script,
  .accent-text {
    font-family: 'Pacifico', cursive;
  }

  .font-sans {
    font-family: 'DM Sans', sans-serif;
  }

  /* Material Design 3 Ripple Effect */
  .md-ripple {
    position: relative;
    overflow: hidden;
    transform: translate3d(0, 0, 0);
  }

  .md-ripple:before {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: currentColor;
    opacity: 0.1;
    transform: translate(-50%, -50%);
    transition: width var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-standard),
                height var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-standard);
  }

  .md-ripple:active:before {
    width: 300px;
    height: 300px;
  }

  /* Material Design 3 State Layers */
  .md-state-layer {
    position: relative;
    overflow: hidden;
  }

  .md-state-layer::before {
    content: "";
    position: absolute;
    inset: 0;
    background: currentColor;
    opacity: 0;
    transition: opacity var(--md-sys-motion-duration-short2) var(--md-sys-motion-easing-standard);
  }

  .md-state-layer:hover::before {
    opacity: 0.08;
  }

  .md-state-layer:focus::before {
    opacity: 0.12;
  }

  .md-state-layer:active::before {
    opacity: 0.16;
  }
}

@layer utilities {
  /* Material Design 3 Spacing System (8dp grid) */
  .md-p-0 { @apply p-0; }
  .md-p-1 { @apply p-2; } /* 8dp */
  .md-p-2 { @apply p-4; } /* 16dp */
  .md-p-3 { @apply p-6; } /* 24dp */
  .md-p-4 { @apply p-8; } /* 32dp */
  .md-p-5 { @apply p-10; } /* 40dp */
  .md-p-6 { @apply p-12; } /* 48dp */
  .md-p-8 { @apply p-16; } /* 64dp */

  /* Material Design 3 Elevation Classes */
  .md-elevation-0 { box-shadow: var(--md-sys-elevation-level0); }
  .md-elevation-1 { box-shadow: var(--md-sys-elevation-level1); }
  .md-elevation-2 { box-shadow: var(--md-sys-elevation-level2); }
  .md-elevation-3 { box-shadow: var(--md-sys-elevation-level3); }
  .md-elevation-4 { box-shadow: var(--md-sys-elevation-level4); }
  .md-elevation-5 { box-shadow: var(--md-sys-elevation-level5); }

  /* Material Design 3 Surface Colors */
  .md-surface { @apply bg-md-surface text-md-surface-on-surface; }
  .md-surface-variant { @apply bg-md-surface-variant text-md-surface-on-variant; }
  .md-surface-container { @apply bg-md-surface-container text-md-surface-on-surface; }
  .md-surface-container-low { @apply bg-md-surface-container-low text-md-surface-on-surface; }
  .md-surface-container-high { @apply bg-md-surface-container-high text-md-surface-on-surface; }

  /* Primary Color Utilities */
  .md-primary { @apply bg-md-primary text-md-primary-on-primary; }
  .md-primary-container { @apply bg-md-primary-container text-md-primary-on-container; }
  
  /* Secondary Color Utilities */
  .md-secondary { @apply bg-md-secondary text-md-secondary-on-secondary; }
  .md-secondary-container { @apply bg-md-secondary-container text-md-secondary-on-container; }

  /* Tertiary Color Utilities */
  .md-tertiary { @apply bg-md-tertiary text-md-tertiary-on-tertiary; }
  .md-tertiary-container { @apply bg-md-tertiary-container text-md-tertiary-on-container; }

  /* Error Color Utilities */
  .md-error { @apply bg-md-error text-md-error-on-error; }
  .md-error-container { @apply bg-md-error-container text-md-error-on-container; }

  /* Material Design 3 Typography Scale - NO DEFAULT COLORS */
  /* Colors should be specified contextually based on background */
  
  /* Display - Primary headings (specify color based on background) */
  .md-display-large { 
    @apply text-[40px] sm:text-[48px] md:text-[57px] leading-[48px] sm:leading-[56px] md:leading-[64px] font-normal tracking-[-0.25px];
  }
  .md-display-medium { 
    @apply text-[36px] sm:text-[40px] md:text-[45px] leading-[44px] sm:text-[48px] md:leading-[52px] font-normal;
  }
  .md-display-small { 
    @apply text-[30px] sm:text-[33px] md:text-[36px] leading-[38px] sm:leading-[41px] md:leading-[44px] font-normal;
  }
  
  /* Headline - Section headings */
  .md-headline-large { 
    @apply text-[28px] sm:text-[30px] md:text-[32px] leading-[36px] sm:leading-[38px] md:leading-[40px] font-normal;
  }
  .md-headline-medium { 
    @apply text-[24px] sm:text-[26px] md:text-[28px] leading-[32px] sm:leading-[34px] md:leading-[36px] font-normal;
  }
  .md-headline-small { 
    @apply text-[20px] sm:text-[22px] md:text-[24px] leading-[28px] sm:leading-[30px] md:leading-[32px] font-normal;
  }
  
  /* Title - Card titles, subheadings */
  .md-title-large { 
    @apply text-[18px] sm:text-[20px] md:text-[22px] leading-[24px] sm:leading-[26px] md:leading-[28px] font-medium;
  }
  .md-title-medium { 
    @apply text-[14px] sm:text-[15px] md:text-[16px] leading-[20px] sm:leading-[22px] md:leading-[24px] font-medium tracking-[0.1px];
  }
  .md-title-small { 
    @apply text-[13px] sm:text-[13.5px] md:text-[14px] leading-[18px] sm:leading-[19px] md:leading-[20px] font-medium tracking-[0.1px];
  }
  
  /* Label - Buttons, badges */
  .md-label-large { 
    @apply text-[13px] sm:text-[13.5px] md:text-[14px] leading-[18px] sm:leading-[19px] md:leading-[20px] font-medium tracking-[0.1px];
  }
  .md-label-medium { 
    @apply text-[11px] sm:text-[11.5px] md:text-[12px] leading-[15px] sm:leading-[15.5px] md:leading-[16px] font-medium tracking-[0.5px];
  }
  .md-label-small { 
    @apply text-[10px] sm:text-[10.5px] md:text-[11px] leading-[14px] sm:leading-[15px] md:leading-[16px] font-medium tracking-[0.5px];
  }
  
  /* Body - Regular text */
  .md-body-large { 
    @apply text-[14px] sm:text-[15px] md:text-[16px] leading-[20px] sm:leading-[22px] md:leading-[24px] font-normal tracking-[0.5px];
  }
  .md-body-medium { 
    @apply text-[13px] sm:text-[13.5px] md:text-[14px] leading-[18px] sm:leading-[19px] md:leading-[20px] font-normal tracking-[0.25px];
  }
  .md-body-small { 
    @apply text-[11px] sm:text-[11.5px] md:text-[12px] leading-[15px] sm:leading-[15.5px] md:leading-[16px] font-normal tracking-[0.4px];
  }

  /* Typography Color Utilities - Apply explicitly based on background */
  
  /* For light backgrounds (surface colors) */
  .text-on-surface { color: hsl(var(--md-sys-color-on-surface)); }
  .text-on-surface-variant { color: hsl(var(--md-sys-color-on-surface-variant)); }
  
  /* For dark/primary backgrounds */
  .text-on-primary { color: hsl(var(--md-sys-color-on-primary)); }
  .text-on-secondary { color: hsl(var(--md-sys-color-on-secondary)); }
  .text-on-tertiary { color: hsl(var(--md-sys-color-on-tertiary)); }
  
  /* Accent colors for emphasis */
  .text-accent-primary { color: hsl(var(--md-sys-color-primary)); }
  .text-accent-secondary { color: hsl(var(--md-sys-color-secondary)); }
  .text-accent-tertiary { color: hsl(var(--md-sys-color-tertiary)); }

  /* Interactive Element Animations */
  .hover-scale {
    @apply transition-transform duration-200 hover:scale-105;
  }

  .hover-lift {
    @apply transition-all duration-300 hover:-translate-y-1 hover:shadow-lg;
  }

  .story-link {
    @apply relative inline-block;
  }

  .story-link::after {
    @apply content-[''] absolute w-full scale-x-0 h-0.5 bottom-0 left-0 bg-md-primary origin-bottom-right transition-transform duration-300;
  }

  .story-link:hover::after {
    @apply scale-x-100 origin-bottom-left;
  }

  /* NutriFit Glassmorphism - Premium Wellness Design */
  .glass-surface {
    background: rgba(251, 248, 239, 0.7);
    backdrop-filter: blur(20px) saturate(120%);
    -webkit-backdrop-filter: blur(20px) saturate(120%);
    border: 1px solid rgba(222, 110, 39, 0.2);
    box-shadow: 0 8px 32px rgba(43, 50, 16, 0.1);
    border-radius: 12px;
    transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
  }

  .glass-surface-elevated {
    background: rgba(251, 248, 239, 0.8);
    backdrop-filter: blur(25px) saturate(130%);
    -webkit-backdrop-filter: blur(25px) saturate(130%);
    border: 1px solid rgba(222, 110, 39, 0.2);
    box-shadow: 0 8px 32px rgba(43, 50, 16, 0.1);
    border-radius: 12px;
    transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
  }

  .glass-card {
    background: rgba(251, 248, 239, 0.7);
    backdrop-filter: blur(20px) saturate(120%);
    -webkit-backdrop-filter: blur(20px) saturate(120%);
    border: 1px solid rgba(222, 110, 39, 0.2);
    box-shadow: 0 8px 32px rgba(43, 50, 16, 0.1);
    border-radius: 12px;
    transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
  }

  .glass-card:hover {
    transform: scale(1.02);
    box-shadow: 0 12px 48px rgba(43, 50, 16, 0.15);
  }

  .glass-primary {
    background: rgba(222, 110, 39, 0.1);
    backdrop-filter: blur(20px) saturate(130%);
    -webkit-backdrop-filter: blur(20px) saturate(130%);
    border: 1px solid rgba(222, 110, 39, 0.25);
    box-shadow: 0 8px 32px rgba(222, 110, 39, 0.15);
    border-radius: 12px;
    transition: all var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-standard);
    position: relative;
    overflow: hidden;
  }

  /* Animated gradient border for glass-primary */
  .glass-primary::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(135deg, rgba(222, 110, 39, 0.4), rgba(80, 86, 49, 0.2), rgba(222, 110, 39, 0.4));
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
    animation: shimmer 3s linear infinite;
  }

  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }

  /* Glass icon circles */
  .glass-icon-circle {
    background: rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(80, 86, 49, 0.15);
    box-shadow: 0 4px 16px rgba(43, 50, 16, 0.08);
    transition: all var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-emphasized);
  }

  .glass-icon-circle:hover {
    backdrop-filter: blur(15px);
    box-shadow: 0 8px 24px rgba(43, 50, 16, 0.12), 0 0 20px rgba(222, 110, 39, 0.1);
    transform: scale(1.05);
  }

  /* Glass badge/pill */
  .glass-badge {
    background: rgba(222, 110, 39, 0.9);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 2px 8px rgba(222, 110, 39, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }

  /* Glass overlay panel */
  .glass-overlay {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(229, 226, 217, 0.3);
    box-shadow: 0 4px 20px rgba(43, 50, 16, 0.12);
  }

  /* Organic hover states with warmth */
  .glass-surface:hover {
    backdrop-filter: blur(15px) saturate(130%);
    border-color: rgba(229, 226, 217, 0.4);
    box-shadow: 0 6px 20px rgba(43, 50, 16, 0.12), 0 2px 8px rgba(222, 110, 39, 0.08);
  }

  .glass-surface-elevated:hover {
    backdrop-filter: blur(20px) saturate(130%);
    box-shadow: 0 12px 40px rgba(43, 50, 16, 0.15), 0 4px 16px rgba(222, 110, 39, 0.1);
    transform: translateY(-2px);
  }

  .glass-card:hover {
    backdrop-filter: blur(15px) saturate(130%);
    border-color: rgba(229, 226, 217, 0.5);
    box-shadow: 0 12px 40px rgba(43, 50, 16, 0.12), 0 4px 12px rgba(222, 110, 39, 0.1);
    transform: translateY(-2px);
  }

  .glass-primary:hover {
    backdrop-filter: blur(25px) saturate(140%);
    box-shadow: 0 8px 24px rgba(222, 110, 39, 0.2), 0 0 60px rgba(222, 110, 39, 0.1);
  }

  /* Paper texture effect */
  .paper-texture {
    position: relative;
    background: hsl(var(--md-sys-color-surface));
  }

  .paper-texture::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
    pointer-events: none;
    border-radius: inherit;
  }

  /* Floating glass shapes */
  .glass-blob {
    position: absolute;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(222, 110, 39, 0.15), transparent 70%);
    backdrop-filter: blur(30px);
    -webkit-backdrop-filter: blur(30px);
    pointer-events: none;
    animation: float 20s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translate(0, 0) rotate(0deg); }
    33% { transform: translate(30px, -30px) rotate(120deg); }
    66% { transform: translate(-20px, 20px) rotate(240deg); }
  }

  /* RGB shift effect for images */
  .rgb-shift {
    position: relative;
  }

  .rgb-shift::before,
  .rgb-shift::after {
    content: '';
    position: absolute;
    inset: 0;
    background: inherit;
    border-radius: inherit;
    opacity: 0.3;
    mix-blend-mode: screen;
    pointer-events: none;
  }

  .rgb-shift::before {
    transform: translate(1px, -1px);
    filter: hue-rotate(-5deg);
  }

  .rgb-shift::after {
    transform: translate(-1px, 1px);
    filter: hue-rotate(5deg);
  }

  /* Loading shimmer effect */
  .shimmer {
    position: relative;
    overflow: hidden;
    background: linear-gradient(90deg, 
      rgba(251, 248, 239, 0.1) 0%, 
      rgba(222, 110, 39, 0.05) 50%, 
      rgba(251, 248, 239, 0.1) 100%);
    background-size: 200% 100%;
    animation: shimmer 2s ease-in-out infinite;
  }

  /* Glass notification badge */
  .glass-notification {
    background: rgba(222, 110, 39, 0.95);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 2px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 2px 8px rgba(222, 110, 39, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.3);
    animation: pulse-glow 2s ease-in-out infinite;
  }

  /* Ripple effect on click */
  .ripple-effect {
    position: relative;
    overflow: hidden;
  }

  .ripple-effect::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(222, 110, 39, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s ease, height 0.6s ease, opacity 0.6s ease;
    opacity: 0;
  }

  .ripple-effect:active::after {
    width: 300px;
    height: 300px;
    opacity: 1;
    transition: width 0s, height 0s, opacity 0s;
  }

  /* Performance optimizations */
  .glass-surface,
  .glass-surface-elevated,
  .glass-card,
  .glass-primary {
    will-change: backdrop-filter;
    transform: translateZ(0);
  }

  /* Reduce motion support */
  @media (prefers-reduced-motion: reduce) {
    .glass-surface,
    .glass-surface-elevated,
    .glass-card,
    .glass-primary {
      backdrop-filter: none;
      -webkit-backdrop-filter: none;
      background: hsl(var(--md-sys-color-surface-container));
    }
  }

  /* MD3 Transition utilities */
  .transition-md-fast {
    transition: all var(--md-sys-motion-duration-short4) var(--md-sys-motion-easing-emphasized);
  }

  .transition-md-standard {
    transition: all var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-standard);
  }

  .transition-md-slow {
    transition: all var(--md-sys-motion-duration-long1) var(--md-sys-motion-easing-standard);
  }

  /* Shorthand for components */
  .transition-fast {
    transition: all var(--md-sys-motion-duration-short4) var(--md-sys-motion-easing-emphasized);
  }

  .transition-standard {
    transition: all var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-standard);
  }

  .transition-slow {
    transition: all var(--md-sys-motion-duration-long1) var(--md-sys-motion-easing-standard-decelerate);
  }

  /* Animation keyframes */
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fade-out {
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(10px);
    }
  }

  @keyframes scale-in {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes slide-in-right {
    from {
      opacity: 0;
      transform: translateX(20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes slide-in-left {
    from {
      opacity: 0;
      transform: translateX(-20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes pulse-glow {
    0%, 100% {
      box-shadow: 0 0 0 0 hsla(var(--md-sys-color-primary), 0.4);
    }
    50% {
      box-shadow: 0 0 0 8px hsla(var(--md-sys-color-primary), 0);
    }
  }

  /* Animation classes */
  .animate-fade-in {
    animation: fade-in var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-standard);
  }

  .animate-fade-out {
    animation: fade-out var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-standard);
  }

  .animate-scale-in {
    animation: scale-in var(--md-sys-motion-duration-short4) var(--md-sys-motion-easing-emphasized);
  }

  .animate-slide-in-right {
    animation: slide-in-right var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-emphasized);
  }

  .animate-slide-in-left {
    animation: slide-in-left var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-emphasized);
  }

  .animate-pulse-glow {
    animation: pulse-glow 2s var(--md-sys-motion-easing-standard) infinite;
  }

  /* Responsive touch targets */
  @media (max-width: 768px) {
    button:not(.icon-only),
    a:not(.icon-only),
    [role="button"]:not(.icon-only) {
      min-height: 48px;
      min-width: 48px;
    }
  }

  /* Performance optimizations for reduced motion */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}
